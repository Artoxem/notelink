---
description: 
globs: 
alwaysApply: true
---
# NoteLink - Мобильное приложение для управления заметками

## Введение

### Обзор приложения
NoteLink - это многофункциональное мобильное приложение для создания, управления и организации заметок и задач с расширенным функционалом. Разработано с использованием Flutter/Dart, ориентировано на пользователей, которые ценят гибкость и эффективность в работе с информацией.

### Ключевые преимущества
- Гибкая система заметок
- Поддержка редактора flutter_quill
- Интеграция мультимедиа
- Продвинутая система тегирования
- Умная система напоминаний
- Кастомизируемый интерфейс

## Архитектура приложения

### Общая структура
```
lib/
├── main.dart
├── models/
├── providers/
├── screens/
├── services/
├── utils/
└── widgets/
```

### Принципы архитектуры
1. **State Management**: Provider
2. **Персистентность**: SQLite
3. **Dependency Injection**: Встроенный в Flutter механизм
4. **Разделение ответственности**: SOLID принципы

## Провайдеры состояния

### Основные провайдеры

#### NotesProvider
- Управление списком заметок
- CRUD операции
- Кэширование
- Синхронизация с базой данных

#### ThemesProvider
- Управление темами
- Связывание заметок с темами
- Кэширование тем

#### AppProvider
- Глобальные настройки приложения
- Управление темами оформления
- Пользовательские preferences

## Экраны приложения

### Основные экраны
1. **MainScreen**: Центральный навигационный экран
2. **NotesScreen**: Список заметок
3. **CalendarScreen**: Календарь с заметками и дедлайнами
4. **ThemesScreen**: Управление темами
5. **NoteDetailScreen**: Создание и редактирование заметок
6. **DeadlinesScreen**: Управление дедлайнами

### Ключевые особенности экранов
- Адаптивный дизайн
- Анимированные переходы
- Интерактивные элементы управления
- Контекстные меню

## Сервисы

### DatabaseService
- Абстракция работы с SQLite
- Оптимизированные запросы
- Миграция базы данных
- Транзакционность операций

### NotificationService
- Управление локальными уведомлениями
- Гибкие настройки напоминаний
- Интеграция с системными уведомлениями

### MediaService
- Работа с медиафайлами
- Пикеры для фото/аудио/файлов
- Предварительный просмотр

## Константы и утилиты

### AppColors
- Цветовая палитра приложения
- Семантические цвета

### AppTextStyles
- Типографика
- Стили для различных компонентов
- Адаптивные размеры шрифтов

### AppAnimations
- Константы анимаций
- Кривые и длительности
- Стандартизация анимационного поведения

## Функциональные возможности

### Заметки
- Редактор flutter_quill
- Вложение медиафайлов
- Голосовые заметки
- Система дедлайнов
- Привязка к датам

### Темы
- Создание и редактирование
- Цветовая кодировка
- Иконки
- Группировка заметок

### Календарь
- Визуализация заметок
- Тепловая карта активности
- Фильтрация событий

## Технические детали реализации

### Работа с медиа
- Встраивание файлов
- Превью изображений
- Аудиоплеер

### Система напоминаний
- Точечные и относительные напоминания
- Повторяющиеся уведомления
- Гибкие настройки

## Безопасность и производительность

### Безопасность
- Локальное хранение данных
- Минимизация облачных сервисов
- Шифрование чувствительных данных

### Оптимизация
- Кэширование данных
- Ленивая загрузка
- Эффективные запросы к базе данных

## Руководство по расширению

### Рекомендации
- Соблюдение архитектуры Provider
- Использование абстракций
- Модульность компонентов

### Точки расширения
- Новые типы медиа
- Дополнительные сервисы
- Кастомизация UI

## Заключение

NoteLink - это гибкое, масштабируемое приложение для работы с заметками, построенное с учетом современных подходов к разработке мобильных приложений.